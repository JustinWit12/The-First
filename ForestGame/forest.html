<!DOCTYPE html>
<html>
<head>
	<title>Forest Adventure</title>
	<style>
		#comp{
			float: right;
		}
	</style>
</head>

<body>
	<img src="" width="300px" height="267px">
	<img id = "comp"src="images/map.png" width = "300px">
	<p id= "output"> </p>
	<input id = "input" type ="text" placeholder ="Enter Your Action...">
	<button> Enter</button><br><br>
	


	<script>
		var map = [];
		map[0] = "An Old Stone Keep";
		map[1] = "A Deep Well";
		map[2] = "A Sunny Glade";
		map[3] = "A Sleeping Dragon";
		map[4] = "A Narrow Pathway";
		map[5] = "An Ancient Gate";
		map[6] = "The Edge of a River";
		map[7] = "A Lonely Wooden Bench";
		map[8] = "An Isolated Cottage. Faint music comes from inside.";

		var actionsIknow = ["north", "east", "south", "west"];

		var img = [];
		img[0] = "images/keep.png"
		img[1] = "images/well.png"
		img[2] = "images/glade.png"
		img[3] = "images/dragon.png"
		img[4] = "images/path.png"
		img[5] = "images/gate.png"
		img[6] = "images/river.png"
		img[7] = "images/bench.png"
		img[8] = "images/cottage.png"




		var mapLocation = 4;
		var playerInput = "";
		var gameMessage = "";
		var action = "";

		var output= document.querySelector("#output");
			output.innerHTML = map[mapLocation];
		var input = document.querySelector("#input"); 
		var button = document.querySelector("button");
			button.style.cursor = "pointer";
		button.addEventListener("click", clickHandler, false);
		var image = document.querySelector("img");



		/*Function*/
		render();
		function clickHandler(){
			playGame();
		}

		function playGame(){
			playerInput = input.value;
			playerInput = playerInput.toLowerCase();

			gameMessage = "";
			action = "";
		

		for(i = 0; i<actionsIknow.length; i++){
			if(playerInput.indexOf(actionsIknow[i] !== -1)){
				action = playerInput;
				console.log("Players action: " + action);
				break;
			}
		}

		switch(action){
			case "north":
			mapLocation -=3;
			if (mapLocation < 0){
				mapLocation +=3;
				console.log("You're too far")
			}
			break;

			case "east":
			mapLocation +=1;
			if (mapLocation > 8){
				mapLocation -=1;
				console.log("You're too far")
			}
			break;

			case "south":
			mapLocation +=3;
			if (mapLocation > 8){
				mapLocation -=3;
				console.log("You're too far")
			}
			break;

			case "west":
			mapLocation -=1;
			if (mapLocation < 0){
				mapLocation +=1;
				console.log("You're too far")
			}
			break;

			default:
			gameMessage = "I do not know that!"
		}
		render();
	}

	function render(){
		output.innerHTML = map[mapLocation];
		image.src = img[mapLocation]

		output.innerHTML += "<br> <em>" + gameMessage +"</em>"
	}


	</script>

</body>
</html>